# Carbon Crunch

Carbon Crunch is a lightweight tool that analyzes React (JavaScript) or FastAPI (Python) code files and scores them on clean code practices, while offering recommendations for improvement.

## Features

- Analyzes JavaScript/React (.js, .jsx) and Python (.py) files
- Provides an overall code quality score out of 100
- Breaks down scoring across multiple categories:
  - Naming conventions
  - Function length and modularity
  - Comments and documentation
  - Formatting/indentation
  - Reusability and DRY principles
  - Best practices in web development
- Offers 3-5 clear recommendations for code improvement
- GitHub Action integration for automated code quality checks on PRs and commits

## Tech Stack

- **Frontend**: React with TypeScript
- **Backend**: FastAPI (Python)

## Setup Instructions

### Backend Setup

1. Navigate to the backend directory:
   ```
   cd backend
   ```

2. Install dependencies:
   ```
   pip install -r requirements.txt
   ```

3. Run the backend server:
   ```
   uvicorn app.main:app --reload
   ```
   This will start the backend server at http://localhost:8000

### Frontend Setup

1. Navigate to the frontend directory:
   ```
   cd frontend
   ```

2. Install dependencies:
   ```
   npm install
   ```

3. Run the development server:
   ```
   npm start
   ```
   This will start the frontend at http://localhost:3000

## API Endpoints

- `GET /`: Welcome message and API information
- `POST /analyze-code`: Analyzes a code file and returns quality scores

## GitHub Actions Integration

Carbon Crunch comes with a GitHub Actions workflow that automatically analyzes JavaScript, React, and Python files on every pull request and commit to the main branch. The workflow:

1. Detects changed files with `.js`, `.jsx`, and `.py` extensions
2. Runs the Carbon Crunch analyzer on each changed file
3. Generates a quality report for each file
4. Creates a summary of the results in the GitHub Actions run
5. Posts a comment with detailed analysis on pull requests

To enable this feature:

1. Make sure the `.github/workflows/code-quality.yml` file is included in your repository
2. No additional configuration is needed, as the workflow will run automatically on pushes and pull requests

Example PR comment:

```
## Carbon Crunch Code Quality Analysis

### File: example.js

**Overall Score:** ðŸŸ¡ 72/100

**Score Breakdown:**
- Naming: 8/10
- Modularity: 15/20
- Comments: 12/20
- Formatting: 13/15
- Reusability: 12/15
- Best Practices: 12/20

**Recommendations:**
- Add JSDoc comments to document functions and their parameters
- Extract repeated code blocks into reusable functions
- Add error handling for asynchronous operations

---

Generated by Carbon Crunch ðŸŒ±
```

## Sample Input/Output

### Input
```python
# app.py
def CalculateTotal(orders):
    sum = 0
    for i in orders:
        sum += i["value"]
    return sum
```

### Output
```json
{
  "overall_score": 64,
  "recommendations": [
    "Use snake_case for function names in Python (should be 'calculate_total').",
    "Avoid using 'sum' as a variable nameâ€”it's a built-in.",
    "Add a docstring to explain the purpose of the function."
  ]
}
``` 